{"version":3,"file":"main.dbb903ebb67435b00a6c.hot-update.js","sources":["webpack:///./src/components/templates/VideosListTemplate/index.jsx","webpack:///./src/components/templates/VideosListTemplate/index.stories.jsx"],"sourcesContent":["// UIの構造や配置に責務を持つよう設計\n\nimport React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nconst Root = styled.div`\n  width: 100%;\n  height: 100%;\n`;\n\nconst HeaderWrapper = styled.div`\n  max-width: 720px;\n  margin: auto;\n  border-bottom: 1px solid #ccc;\n`;\n\nconst SearchFormWrapper = styled.div`\n  max-width: 720px;\n  margin: auto;\n`;\n\nconst VideosListWrapper = styled.div`\n  max-width: 720px;\n  margin: auto;\n`;\n\nconst VideosListTemplate = ({\n  headerContents,\n  searchFormContents,\n  videosListContents,\n  onScrollEnd,\n}) => {\n  useEffect(() => {\n    if (!onScrollEnd) {\n      return;\n    }\n    // スクロール時のイベントハンドラ\n    const scrollHandler = ({ target: { scrollingElement } }) => {\n      // 一番下までスクロールされたかどうか判定し、一番下までスクロールされたらonScrollEndを呼び出す\n      const { scrollTop, scrollHeight, clientHeight } = scrollingElement;\n      if (scrollTop < scrollHeight - clientHeight) {\n        // スクロールした位置が一番下でない場合は何もしない\n        return;\n      }\n      // onScrollEnd呼び出し\n      onScrollEnd();\n    };\n    // イベントハンドラの設定\n    window.document.addEventListener('scroll', scrollHandler);\n    return () => {\n      // コンポーネントのアンマウント時に設定したイベントハンドラを削除する\n      window.document.removeEventListener('scroll', scrollHandler);\n    };\n  }, [onScrollEnd]);\n  return (\n    <Root>\n      <HeaderWrapper>\n        {headerContents}\n      </HeaderWrapper>\n      <SearchFormWrapper>\n        {searchFormContents}\n      </SearchFormWrapper>\n      <VideosListWrapper>\n        {videosListContents}\n      </VideosListWrapper>\n    </Root>\n  );\n};\n\nVideosListTemplate.propTypes = {\n  headerContents: PropTypes.node,\n  searchFormContents: PropTypes.node,\n  videosListContents: PropTypes.node.isRequired,\n  onScrollEnd: PropTypes.func,\n};\n\nVideosListTemplate.defaultProps = {\n  headerContents: null,\n  searchFormContents: null,\n  onScrollEnd: null,\n};\n\nexport default VideosListTemplate;","import React from 'react';\nimport { actions } from '@storybook/addon-actions';\nimport styled, { css } from 'styled-components';\nimport VideosListTemplate from '.';\n\nexport default { title: 'templates/VideosListTemplate' };\n\nconst commonStyle = css`\n  background: #f0f0f0;\n  text-align: center;\n`;\n\nconst Header = styled.div`\n  width: 100%;\n  height: 33px;\n  ${commonStyle};\n`;\n\nconst SearchForm = styled.div`\n  width: 100%;\n  height: 47px;\n  ${commonStyle};\n`;\n\nconst VideosList = styled.div`\n  width: 100%;\n  height: 1000px;\n  ${commonStyle};\n`;\n\nexport const Default = () => (\n  <VideosListTemplate\n    headerContents={<Header>header</Header>}\n    searchFormContents={<SearchForm>searchForm</SearchForm>}\n    videosListContents={<VideosList>videosList</VideosList>}\n    {...actions('onScrollEnd')}\n  />\n);\nVideos"],"mappings":";;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;;;AAEA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AACA;AAIA;AAKA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AAAA;AAGA;AAAA;AAPA;AAYA;AACA;AA1CA;AA2CA;AACA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAHA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpFA;AACA;AACA;AACA;;AAEA;AAAA;AAAA;AAEA;AAKA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAMA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAHA;AADA;AAAA;AAQA;;;;;;;;;;;;;;;;;A","sourceRoot":""}